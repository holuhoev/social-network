[{"/Users/a17636999/Projects/social-network/front/src/features/users/usersSlice.js":"1","/Users/a17636999/Projects/social-network/front/src/client/api.js":"2","/Users/a17636999/Projects/social-network/front/src/App.js":"3","/Users/a17636999/Projects/social-network/front/src/features/users/Users.js":"4","/Users/a17636999/Projects/social-network/front/src/app/store.js":"5","/Users/a17636999/Projects/social-network/front/src/serviceWorker.js":"6","/Users/a17636999/Projects/social-network/front/src/index.js":"7","/Users/a17636999/Projects/social-network/front/src/features/users/UserProfile.js":"8","/Users/a17636999/Projects/social-network/front/src/features/application/applicationSlice.js":"9","/Users/a17636999/Projects/social-network/front/src/features/main/Main.js":"10","/Users/a17636999/Projects/social-network/front/src/features/auth/LoginForm.js":"11","/Users/a17636999/Projects/social-network/front/src/features/auth/authSlice.js":"12","/Users/a17636999/Projects/social-network/front/src/features/profile/Profile.js":"13","/Users/a17636999/Projects/social-network/front/src/features/friends/friendsSlice.js":"14","/Users/a17636999/Projects/social-network/front/src/features/friends/Friends.js":"15","/Users/a17636999/Projects/social-network/front/src/features/profile/profileSlice.js":"16"},{"size":3818,"mtime":1614439356905,"results":"17","hashOfConfig":"18"},{"size":1256,"mtime":1614438142413,"results":"19","hashOfConfig":"18"},{"size":397,"mtime":1611760037078,"results":"20","hashOfConfig":"18"},{"size":1821,"mtime":1614265063572,"results":"21","hashOfConfig":"18"},{"size":582,"mtime":1612703164831,"results":"22","hashOfConfig":"18"},{"size":5141,"mtime":1611483317862,"results":"23","hashOfConfig":"18"},{"size":777,"mtime":1611702121941,"results":"24","hashOfConfig":"18"},{"size":1920,"mtime":1612706509658,"results":"25","hashOfConfig":"18"},{"size":456,"mtime":1612708045914,"results":"26","hashOfConfig":"18"},{"size":2699,"mtime":1613917776294,"results":"27","hashOfConfig":"18"},{"size":5175,"mtime":1614270955900,"results":"28","hashOfConfig":"18"},{"size":2254,"mtime":1614270400347,"results":"29","hashOfConfig":"18"},{"size":2516,"mtime":1614270496371,"results":"30","hashOfConfig":"18"},{"size":1876,"mtime":1613911773527,"results":"31","hashOfConfig":"18"},{"size":1155,"mtime":1612707035141,"results":"32","hashOfConfig":"18"},{"size":1620,"mtime":1614270400336,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1j17bj3",{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"66"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"66"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/a17636999/Projects/social-network/front/src/features/users/usersSlice.js",[],"/Users/a17636999/Projects/social-network/front/src/client/api.js",[],"/Users/a17636999/Projects/social-network/front/src/App.js",[],["74","75"],"/Users/a17636999/Projects/social-network/front/src/features/users/Users.js",["76","77"],"/Users/a17636999/Projects/social-network/front/src/app/store.js",[],["78","79"],"/Users/a17636999/Projects/social-network/front/src/serviceWorker.js",[],["80","81"],"/Users/a17636999/Projects/social-network/front/src/index.js",[],["82","83"],"/Users/a17636999/Projects/social-network/front/src/features/users/UserProfile.js",[],"/Users/a17636999/Projects/social-network/front/src/features/application/applicationSlice.js",[],"/Users/a17636999/Projects/social-network/front/src/features/main/Main.js",["84"],"/Users/a17636999/Projects/social-network/front/src/features/auth/LoginForm.js",[],"/Users/a17636999/Projects/social-network/front/src/features/auth/authSlice.js",["85"],"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { extractToken, client } from '../../client/api';\nimport { fetchUsers } from '../users/usersSlice';\n\n\nexport async function postLogin(username, password) {\n  const response = await client.post('/login', {\n    username: username,\n    password: password\n  }, true);\n\n\n  if (!response.success) {\n    return Promise.reject('');\n  }\n\n  localStorage.setItem('accessToken', response.data.accessToken);\n\n  return response.data.accessToken;\n}\n\nexport const login = createAsyncThunk('auth/login', async ({ username, password }) => {\n  return await postLogin(username, password);\n});\n\n\nexport const register = createAsyncThunk(\"/profile/register\", async (user) => {\n  const response = await client.post(\"/users/register\", user, true);\n  const {username, password} = user;\n\n  const loginResult = await postLogin(username, password);\n  return response.data;\n});\n\n\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    status: 'idle',\n    error: null,\n    isLoggedIn: !!extractToken()\n  },\n  reducers: {\n    logout: (state, action) => {\n      state.isLoggedIn = false;\n    }\n  },\n  extraReducers: {\n    [login.pending]: (state) => {\n      state.status = 'loading';\n    },\n    [login.fulfilled]: (state, action) => {\n      state.status = 'succeeded';\n      state.isLoggedIn = true;\n    },\n    [login.rejected]: (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n      state.isLoggedIn = false;\n    },\n    [register.pending]: (state) => {\n      state.status = 'loading';\n    },\n    [register.fulfilled]: (state, action) => {\n      state.status = 'succeeded';\n      state.isLoggedIn = true;\n    },\n    [register.rejected]: (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n      state.isLoggedIn = false;\n    },\n    [fetchUsers.rejected]: (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n      state.isLoggedIn = false;\n    },\n  }\n});\n\nexport const selectIsLoggedIn = state => state.auth.isLoggedIn;\nexport const selectLoginStatus = state => state.auth.status;\nexport const logout = authSlice.actions.logout;\n\nexport default authSlice.reducer;","/Users/a17636999/Projects/social-network/front/src/features/profile/Profile.js",["86","87"],"import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  fetchProfile,\n  selectProfile,\n  selectProfileStatus, selectProfileUpdateStatus, updateProfile\n} from './profileSlice';\nimport { Button, Form, Input, InputNumber, Select } from 'antd';\n\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 }\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 }\n};\n\nexport const Profile = () => {\n  const dispatch = useDispatch();\n\n  const profileStatus = useSelector(selectProfileStatus);\n  const profileUpdateStatus = useSelector(selectProfileUpdateStatus);\n\n  useEffect(() => {\n    if (profileStatus === 'idle') {\n      dispatch(fetchProfile())\n    }\n  }, [profileStatus]);\n\n  const profile = useSelector(selectProfile);\n  const [form] = Form.useForm();\n\n  if (!profile) {\n    return null;\n  }\n\n  const onFinish = (values) => {\n    dispatch(updateProfile(values))\n  };\n\n  return (\n    <Form\n      {...layout}\n      form={form}\n      name=\"control-hooks\"\n      onFinish={onFinish}\n      disabled={profileUpdateStatus === 'loading'}\n      initialValues={{\n        'firstName': profile.firstName,\n        'lastName': profile.lastName,\n        'age': profile.age,\n        'interests': profile.interests,\n        'city': profile.city\n      }}\n    >\n      <Form.Item name=\"firstName\" label=\"First name\"\n                 rules={[{ required: true }]}>\n        <Input disabled={profileUpdateStatus === 'loading'}/>\n      </Form.Item>\n      <Form.Item name=\"lastName\" label=\"Last name\"\n                 rules={[{ required: true }]}>\n        <Input disabled={profileUpdateStatus === 'loading'}/>\n      </Form.Item>\n      <Form.Item name=\"age\" label=\"Age\"\n                 rules={[{ required: true }]}>\n        <InputNumber min={8} max={120}\n                     disabled={profileUpdateStatus === 'loading'}/>\n      </Form.Item>\n      <Form.Item name=\"city\" label=\"City\"\n                 rules={[{ required: true }]}>\n        <Input disabled={profileUpdateStatus === 'loading'}/>\n      </Form.Item>\n      <Form.Item\n        name=\"interests\"\n        label=\"Interests\"\n        rules={[{ required: true }]}\n      >\n        <Input.TextArea maxLength={200}\n                        disabled={profileUpdateStatus === 'loading'}/>\n      </Form.Item>\n      <Form.Item {...tailLayout}>\n        <Button loading={profileUpdateStatus === 'loading'} type=\"primary\"\n                htmlType=\"submit\">\n          Submit\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n",["88","89"],"/Users/a17636999/Projects/social-network/front/src/features/friends/friendsSlice.js",[],"/Users/a17636999/Projects/social-network/front/src/features/friends/Friends.js",["90"],"import React, { Fragment, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  fetchFriends,\n  selectAllFriends,\n  selectFriendById\n} from './friendsSlice';\nimport { renderUserList } from '../users/Users';\nimport { UserProfile } from '../users/UserProfile';\n\nexport function Friends() {\n  const friends = useSelector(selectAllFriends);\n  const usersStatus = useSelector(state => state.friends.status);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (usersStatus === 'idle') {\n      dispatch(fetchFriends())\n    }\n  }, [usersStatus]);\n\n  const [selectedUserId, setSelectedUserId] = useState('');\n  const [visible, setVisible] = useState(false);\n\n  const onSelect = userId => {\n    setSelectedUserId(userId);\n    setVisible(true);\n  };\n\n  const onClose = () => {\n    setVisible(false);\n    dispatch(fetchFriends());\n  };\n\n  return (\n    <Fragment>\n      {renderUserList(usersStatus === 'loading', friends, onSelect)}\n      <UserProfile\n        userId={selectedUserId}\n        visible={visible}\n        onClose={onClose}\n        selectUser={selectFriendById}\n      />\n    </Fragment>\n  );\n}\n\n","/Users/a17636999/Projects/social-network/front/src/features/profile/profileSlice.js",[],{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","severity":1,"message":"96","line":17,"column":6,"nodeType":"97","endLine":17,"endColumn":19,"suggestions":"98"},{"ruleId":"99","severity":1,"message":"100","line":63,"column":15,"nodeType":"101","endLine":63,"endColumn":56},{"ruleId":"91","replacedBy":"102"},{"ruleId":"93","replacedBy":"103"},{"ruleId":"91","replacedBy":"104"},{"ruleId":"93","replacedBy":"105"},{"ruleId":"91","replacedBy":"106"},{"ruleId":"93","replacedBy":"107"},{"ruleId":"108","severity":1,"message":"109","line":4,"column":48,"nodeType":"110","messageId":"111","endLine":4,"endColumn":54},{"ruleId":"108","severity":1,"message":"112","line":31,"column":9,"nodeType":"110","messageId":"111","endLine":31,"endColumn":20},{"ruleId":"108","severity":1,"message":"113","line":8,"column":44,"nodeType":"110","messageId":"111","endLine":8,"endColumn":50},{"ruleId":"95","severity":1,"message":"96","line":29,"column":6,"nodeType":"97","endLine":29,"endColumn":21,"suggestions":"114"},{"ruleId":"91","replacedBy":"115"},{"ruleId":"93","replacedBy":"116"},{"ruleId":"95","severity":1,"message":"96","line":21,"column":6,"nodeType":"97","endLine":21,"endColumn":19,"suggestions":"117"},"no-native-reassign",["118"],"no-negated-in-lhs",["119"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["120"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",["118"],["119"],["118"],["119"],["118"],["119"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'loginResult' is assigned a value but never used.","'Select' is defined but never used.",["121"],["118"],["119"],["122"],"no-global-assign","no-unsafe-negation",{"desc":"123","fix":"124"},{"desc":"125","fix":"126"},{"desc":"123","fix":"127"},"Update the dependencies array to be: [dispatch, usersStatus]",{"range":"128","text":"129"},"Update the dependencies array to be: [dispatch, profileStatus]",{"range":"130","text":"131"},{"range":"132","text":"129"},[539,552],"[dispatch, usersStatus]",[724,739],"[dispatch, profileStatus]",[584,597]]